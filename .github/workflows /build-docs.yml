name: Build documentation

on:
# If specified, the workflow will be triggered automatically once you push to the `main` branch.
# Replace `main` with your branchâ€™s name
    push:
        branches: ["main"]
# Specify to run a workflow manually from the Actions tab on GitHub
    workflow_dispatch:

# Gives the workflow permissions to clone the repo and create a page deployment
permissions:
    id-token: write
    pages: write

env:
    # Name of module and id separated by a slash
    INSTANCE: Writerside/in
    # Replace HI with the ID of the instance in capital letters
    ARTIFACT: webHelpIN2-all.zip
    # Writerside docker image version
    DOCKER_VERSION: 232.10165.1
# Add the variable below to upload Algolia indexes
# Replace HI with the ID of the instance in capital letters
    ALGOLIA_ARTIFACT: algolia-indexes-IN.zip

jobs:
    build:
        runs-on: ubuntu-latest

        steps:
        - name: Checkout repository
          uses: actions/checkout@v3

        - name: Build Writerside docs using Docker
          uses: JetBrains/writerside-github-action@v4
